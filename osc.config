// Nextflow configuration for Ohio Supercomputer Center (OSC)
// This file configures Nextflow to work with OSC's SLURM scheduler and Singularity containers

singularity {
    enabled = true
    // Cache container images in user's home directory to prevent redundant downloads
    // By default, images are cached in ${workflow.workDir}/singularity (local to each project)
    // Setting a shared cache directory allows reuse across all your projects
    cacheDir = System.getenv('HOME') + '/nextflow_images'
}

process {
    executor = 'slurm'
    clusterOptions = '--account=PCON0100'  // Replace with your allocation
}

executor {
    $slurm {
        queueSize = 50
        submitRateLimit = '10 sec'
        // Enable SLURM 24+ optimization
        onlyJobState = true
    }
}
